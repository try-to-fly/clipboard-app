# 剪切板管理器

一个基于 Tauri + React + @radix-ui 的 macOS 剪切板管理工具。

## 功能特性

- 🎯 **实时监听**：深度集成 macOS 系统剪切板，非轮询方式监听
- 📝 **多类型支持**：支持文本、图片、文件路径等内容类型
- 🔍 **智能去重**：通过 SHA256 哈希自动识别重复内容并累加计数
- 📱 **来源追踪**：记录每次复制的来源应用
- 🖼️ **图片管理**：自动保存图片到本地配置目录
- 💾 **持久存储**：使用 SQLite 数据库保存历史记录
- 🔎 **搜索筛选**：支持按内容和应用名称搜索
- ⭐ **收藏功能**：标记重要的剪切板内容
- 📊 **使用统计**：查看复制频率和应用使用情况

## 快速开始

### 前置要求

- macOS 系统
- Node.js 16+
- pnpm（推荐）或 npm
- Rust 环境（用于编译 Tauri）

### 安装依赖

```bash
# 安装 pnpm（如果未安装）
npm install -g pnpm

# 安装项目依赖
pnpm install
```

### 启动应用

```bash
# 使用启动脚本
./start.sh

# 或手动启动
pnpm tauri dev
```

### 构建应用

```bash
# 构建生产版本
pnpm tauri build
```

## 使用说明

1. **启动监听**：点击顶部工具栏的播放按钮开始监听剪切板
2. **复制内容**：在任意应用中复制内容，会自动记录到列表中
3. **查看历史**：主界面显示所有剪切板历史，按时间倒序排列
4. **搜索内容**：使用搜索框快速查找特定内容或应用
5. **操作条目**：
   - 双击条目：复制到剪切板
   - 右键菜单：复制、收藏、删除
   - 收藏图标：快速标记重要内容

## 数据存储

- 数据库位置：`~/.config/clipboard-app/clipboard.db`
- 图片存储：`~/.config/clipboard-app/imgs/`

## 技术栈

- **后端**：Rust + Tauri + SQLite
- **前端**：React + TypeScript + @radix-ui
- **状态管理**：Zustand
- **样式**：CSS Variables + 响应式设计

## 注意事项

- 首次运行时需要授予应用辅助功能权限
- 图片文件会自动保存到本地，请定期清理避免占用过多空间
- 敏感信息请谨慎处理，建议定期清理历史记录

## 开发指南

### 项目结构

```
clipboard-app/
├── src/                    # React 前端代码
│   ├── components/         # UI 组件
│   ├── stores/            # 状态管理
│   └── types/             # TypeScript 类型定义
├── src-tauri/             # Rust 后端代码
│   ├── src/
│   │   ├── clipboard/     # 剪切板监听和处理
│   │   ├── database/      # 数据库操作
│   │   ├── models/        # 数据模型
│   │   └── utils/         # 工具函数
│   └── Cargo.toml         # Rust 依赖配置
└── package.json           # 前端依赖配置
```

### 主要模块

- **剪切板监听**：使用 macOS NSPasteboard API 实现系统级监听
- **内容处理**：自动识别内容类型，处理图片保存等
- **数据库管理**：使用 SQLx 进行异步数据库操作
- **实时更新**：通过 Tauri 事件系统实现前后端实时通信

## License

MIT